webpackJsonp([1],Array(18).concat([function(t,e,n){n(50);var r=n(2)(n(38),n(98),"data-v-56cb8c30",null);t.exports=r.exports},,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(19),o=n(103),a=n(91),i=n.n(a),s=n(94),c=n.n(s),u=n(92),l=n.n(u);r.a.use(o.a),e.a=new o.a({routes:[{path:"/",name:"project-list",component:l.a},{path:"/projects/new",name:"new-project",component:i.a},{path:"/projects/:id/edit",name:"edit-project",component:i.a},{path:"/projects/:id/",name:"view-project",component:c.a}],scrollBehavior:function(t,e,n){return n||{x:0,y:0}}})},function(t,e){},function(t,e,n){n(54);var r=n(2)(n(35),n(102),null,null);t.exports=r.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n.n(r),a=n(90),i=n.n(a),s={apiKey:"AIzaSyA_2Bu81WuWrjLoJHP3EFDo41jYgNJ8BUM",authDomain:"validately-948d9.firebaseapp.com",databaseURL:"https://validately-948d9.firebaseio.com",projectId:"validately-948d9",storageBucket:"validately-948d9.appspot.com",messagingSenderId:"354991934469"};o.a.initializeApp(s),e.default={name:"app",components:{AppBar:i.a},created:function(){var t=this;o.a.auth().onAuthStateChanged(function(e){e?t.user=e:console.log("not signed in")}),function(t,e,n){var r,o=t.getElementsByTagName(e)[0];t.getElementById(n)||(r=t.createElement(e),r.id=n,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.9&appId=526030481081547",o.parentNode.insertBefore(r,o))}(document,"script","facebook-jssdk")},data:function(){return{user:{}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"button-primary",props:{label:""},methods:{clickHandler:function(){this.$emit("action")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n.n(r),a=n(82),i=(n.n(a),n(18)),s=n.n(i);e.default={name:"app-bar",created:function(){},methods:{goBack:function(){this.$router.replace("/")},loginUser:function(){console.log(this);var t=this,e=new o.a.auth.FacebookAuthProvider;o.a.auth().signInWithPopup(e).then(function(e){console.log(this);var n=(e.credential.accessToken,e.user);t.isLoggedIn=!0,console.log(n)}).catch(function(t){t.code,t.message,t.email,t.credential})},logOut:function(){var t=this;this.isLoggedIn=!1,o.a.auth().signOut().then(function(){t.$router.go("/")}).catch(function(t){})}},components:{ButtonPrimary:s.a},props:{user:{}},data:function(){return{isLoggedIn:!1}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"button-primary",props:{label:""},methods:{clickHandler:function(){this.$emit("action")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n.n(r),a=n(85),i=n.n(a),s=n(31),c=n.n(s),u=n(89),l=n.n(u);e.default={name:"edit-project",mounted:function(){var t=this;t.quill=new i.a("#editor",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},theme:"snow"});var e=o.a.database().ref("projects/"+this.$route.params.id),n=o.a.database().ref("writeup/"+this.$route.params.id);void 0!==this.$route.params.id?(e.once("value",function(e){t.project=e.val()}),n.once("value",function(e){t.writeup=e.val(),t.quill.setContents(t.writeup.contentDelta)})):console.log("nope, this is a new project")},props:{user:{}},components:{ButtonPrimary:l.a},methods:{handleSubmit:function(t){var e=this,n=new Date,r={content:c()("#editor .ql-editor").html(),contentDelta:e.quill.getContents()},a={title:e.project.title,desc:e.project.desc,time:n.toString(),owner:{displayName:e.user.displayName,email:e.user.email,uid:e.user.uid}};if(void 0!==this.$route.params.id)a.url=e.$route.params.id;else{var i=this.project.title.replace(/[^\w\s]/gi,"").replace(/\s/g,"-").toLowerCase();a.url=i}o.a.database().ref("projects/"+a.url).set(a),o.a.database().ref("writeup/"+a.url).set(r),e.$router.push("/projects/"+a.url)}},data:function(){return{project:{},writeup:{}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n.n(r),a=n(88),i=n.n(a),s=n(93),c=n.n(s),u=n(18),l=n.n(u);e.default={name:"project-list",created:function(){var t=this;o.a.database().ref("projects/").orderByChild("time").limitToLast(5).on("child_added",function(e){t.projects.push(e.val())})},components:{ProjectListItem:c.a,ButtonPrimary:l.a},props:{user:""},methods:{goToProject:function(t){this.$router.push({path:t})},clickHandler:function(){this.$router.push({path:path})}},computed:{listArray:function(){var t=i.a.map(this.projects,function(t,e){return t});return i.a.sortBy(t,function(t,e){return Date.parse(t.time)}).reverse()}},data:function(){return{projects:[]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"project-list-item",methods:{clickHandler:function(){this.$emit("action")}},computed:{},props:{item:{}},data:function(){return{survey:{}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n.n(r),a=n(31),i=n.n(a),s=n(18),c=n.n(s);e.default={name:"view-project",created:function(){function t(){DISQUS.reset({reload:!0,config:function(){this.page.identifier=a,this.page.url=s}})}var e=this,n=o.a.database().ref("projects/"+this.$route.params.id),r=o.a.database().ref("writeup/"+this.$route.params.id);n.once("value",function(t){e.projects=t.val(),console.log("projects:",t.val())}),r.once("value",function(t){e.writeup=t.val(),console.log("write up:",t.val())});var a=window.location.hash.replace("/projects/",""),s=window.location.href.replace(window.location.host+"/#",window.location.host+"/#!");i.a.ajax({type:"GET",url:"http://magnetize-1.disqus.com/embed.js",dataType:"script",cache:!0,success:t})},mounted:function(){},props:{user:{}},components:{ButtonPrimary:c.a},methods:{goBack:function(){this.$router.replace("/projects/")},editProject:function(){this.$router.push(this.$route.path+"/edit")},loadComments:function(){}},data:function(){return{projects:{},writeup:{}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(34),a=n.n(o),i=n(32),s=n(33);n.n(s);r.a.config.productionTip=!1,new r.a({el:"#app",router:i.a,template:"<App/>",components:{App:a.a}})},,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(48);var r=n(2)(n(36),n(96),"data-v-3caaa050",null);t.exports=r.exports},function(t,e,n){n(49);var r=n(2)(n(37),n(97),null,null);t.exports=r.exports},function(t,e,n){n(53);var r=n(2)(n(39),n(101),null,null);t.exports=r.exports},function(t,e,n){n(51);var r=n(2)(n(40),n(99),null,null);t.exports=r.exports},function(t,e,n){n(47);var r=n(2)(n(41),n(95),"data-v-07c26c6c",null);t.exports=r.exports},function(t,e,n){n(52);var r=n(2)(n(42),n(100),null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.clickHandler}},[n("h1",[t._v(t._s(t.item.title)+" "),n("span",{staticClass:"name"},[t._v(t._s(t.item.owner.displayName))])]),t._v(" "),n("span",{staticClass:"byline"},[t._v(t._s(t.item.desc))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"button button--primary",on:{click:t.clickHandler}},[t._v(t._s(t.label))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-bar"},[n("span",[n("span",{on:{click:t.goBack}},[t._v("Projects Home")])]),t._v(" "),n("span",[t.user.uid?t._e():n("button-primary",{attrs:{label:"Login with Facebook"},on:{action:t.loginUser}})],1),t._v(" "),t.user.uid?n("strong",{on:{click:t.logOut}},[t._v(t._s(t.user.displayName))]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"button button--primary",on:{click:t.clickHandler}},[t._v(t._s(t.label))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"banner banner--main"},[t._v("\n    Help grow ideas\n  ")]),t._v(" "),n("div",{staticClass:"content"},[n("article",[t.user.uid?n("button-primary",{attrs:{label:"New Project"},on:{action:function(e){t.goToProject("/projects/new")}}}):t._e(),t._v(" "),t._m(0),t._v(" "),t._l(t.listArray,function(e,r){return n("project-list-item",{attrs:{item:e},on:{action:function(n){t.goToProject("projects/"+e.url)}}})})],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list__header"},[n("h1",[t._v("Recent Projects")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"banner"},[n("div",{staticClass:"banner__content"},[n("h1",[t._v(t._s(t.projects.title))]),t._v(" "),n("p",[t._v(t._s(t.projects.desc))]),t._v(" "),n("button-primary",{attrs:{label:"Subscribe"}})],1)]),t._v(" "),n("div",{staticClass:"content"},[t.projects.owner&&t.projects.owner.uid===t.user.uid?n("button-primary",{attrs:{label:"Edit Project"},on:{action:t.editProject}}):t._e(),t._v(" "),t.projects.owner?n("p",[t._v("Idea by "+t._s(t.projects.owner.displayName))]):t._e(),t._v(" "),n("article",{staticClass:"story"},[t.writeup?n("div",{domProps:{innerHTML:t._s(t.writeup.content)}}):t._e(),t._v(" "),n("button-primary",{attrs:{label:"Load Comments"},on:{action:t.loadComments}}),t._v(" "),n("div",{staticClass:"fb-comments",attrs:{"data-numposts":"5"}})],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit"}},[n("button-primary",{attrs:{label:"submit"},on:{action:t.handleSubmit}}),t._v(" "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.project.title,expression:"project.title"}],staticClass:"input--title",attrs:{placeholder:"Name Your Idea...",type:"text"},domProps:{value:t.project.title},on:{input:function(e){e.target.composing||(t.project.title=e.target.value)}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.project.desc,expression:"project.desc"}],staticClass:"input__long-text",attrs:{placeholder:"Briefly describe your idea!",type:"text"},domProps:{value:t.project.desc},on:{input:function(e){e.target.composing||(t.project.desc=e.target.value)}}}),t._v(" "),n("div",{attrs:{id:"editor"}})])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"fb-root"}}),t._v(" "),n("app-bar",{attrs:{user:t.user}}),t._v(" "),n("transition",{attrs:{name:"slide-fade"}},[n("router-view",{attrs:{user:t.user}})],1)],1)},staticRenderFns:[]}}]),[43]);
//# sourceMappingURL=app.f0978a59c360b98fb0ca.js.map