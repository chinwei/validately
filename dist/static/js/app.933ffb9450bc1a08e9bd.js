webpackJsonp([1],Array(19).concat([function(e,t,n){n(54);var r=n(2)(n(40),n(102),"data-v-56cb8c30",null);e.exports=r.exports},,,,,,,,,,,,,,function(e,t,n){n(52);var r=n(2)(n(38),n(100),"data-v-3caaa050",null);e.exports=r.exports},function(e,t,n){"use strict";var r=n(20),a=n(107),o=n(94),i=(n.n(o),n(93)),s=n.n(i),u=n(97),c=n.n(u),l=n(95),d=n.n(l);r.a.use(a.a),t.a=new a.a({routes:[{path:"/",name:"project-list",component:d.a},{path:"/projects/new",name:"new-project",component:s.a},{path:"/projects/:id/edit",name:"edit-project",component:s.a},{path:"/projects/:id/",name:"view-project",component:c.a}],scrollBehavior:function(e,t,n){return n||{x:0,y:0}}})},function(e,t){},function(e,t,n){n(58);var r=n(2)(n(37),n(106),null,null);e.exports=r.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n.n(r),o=n(92),i=n.n(o),s={apiKey:"AIzaSyA_2Bu81WuWrjLoJHP3EFDo41jYgNJ8BUM",authDomain:"validately-948d9.firebaseapp.com",databaseURL:"https://validately-948d9.firebaseio.com",projectId:"validately-948d9",storageBucket:"validately-948d9.appspot.com",messagingSenderId:"354991934469"};a.a.initializeApp(s),t.default={name:"app",components:{AppBar:i.a},created:function(){var e=this;a.a.auth().onAuthStateChanged(function(t){t?e.user=t:console.log("not signed in")})},data:function(){return{user:{}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"button-primary",props:{label:""},methods:{clickHandler:function(){this.$emit("action")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n.n(r),o=n(86),i=(n.n(o),n(19)),s=n.n(i);t.default={name:"app-bar",created:function(){},methods:{goBack:function(){this.$router.replace("/")},loginUser:function(){console.log(this);var e=this,t=new a.a.auth.FacebookAuthProvider;a.a.auth().signInWithPopup(t).then(function(t){console.log(this);var n=(t.credential.accessToken,t.user);e.isLoggedIn=!0,console.log(n)}).catch(function(e){e.code,e.message,e.email,e.credential})},logOut:function(){var e=this;this.isLoggedIn=!1,a.a.auth().signOut().then(function(){e.$router.go("/")}).catch(function(e){})}},components:{ButtonPrimary:s.a},props:{user:{}},data:function(){return{isLoggedIn:!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"button-primary",props:{label:""},methods:{clickHandler:function(){this.$emit("action")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n.n(r),o=n(32),i=n.n(o),s=n(18),u=n.n(s),c=n(33),l=n.n(c);t.default={name:"edit-project",mounted:function(){var e=this;console.log(this.$route.params.id),e.quill=new i.a("#editor",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},theme:"snow"});var t=a.a.database().ref(this.$route.params.id);void 0!==this.$route.params.id?t.once("value",function(t){console.log("grabbing data...",e.survey),e.survey=t.val(),e.quill.setContents(e.survey.writeup.contentDelta)}):console.log("nope, this is a new project")},props:{user:{}},computed:{path:function(){return"/projects/"+this.$route.params.id}},components:{ButtonPrimary:l.a},methods:{handleSubmit:function(e){var t=this,n=new Date,r=this.survey.title.replace(/[^\w\s]/gi,"").replace(/\s/g,"-").toLowerCase();if(console.log(r),console.log("path:",t.path),void 0!==this.$route.params.id){console.log("writing to existing project at",t.path);var o={surveyID:"survey1",url:t.path,title:t.survey.title,desc:t.survey.desc,time:n.toString(),owner:{displayName:t.user.displayName,email:t.user.email,uid:t.user.uid},writeup:{content:u()("#editor .ql-editor").html(),contentDelta:t.quill.getContents()}};a.a.database().ref(t.path).set(o),t.$router.push(t.path)}else{console.log("writing to new project at",r);var o={surveyID:"survey1",url:r,title:t.survey.title,desc:t.survey.desc,time:n.toString(),owner:{displayName:t.user.displayName,email:t.user.email,uid:t.user.uid},writeup:{content:u()("#editor .ql-editor").html(),contentDelta:t.quill.getContents()}};a.a.database().ref(r).set(o),t.$router.push("/projects/"+r)}}},data:function(){return{survey:{title:"",desc:"",writeup:{content:"",contentDelta:{}}}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n.n(r),o=n(32),i=n.n(o),s=n(18),u=n.n(s),c=n(33),l=n.n(c);t.default={name:"new-project",mounted:function(){void 0===this.user.uid&&this.$router.replace("/"),this.quill=new i.a("#editor",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},placeholder:"Compose an epic...",theme:"snow"})},props:{user:{}},components:{ButtonPrimary:l.a},methods:{handleSubmit:function(e){var t=this,n=new Date;a.a.database().ref(this.survey.title.replace(/[^\w\s]/gi,"").replace(/\s/g,"-").toLowerCase()).set({surveyID:"survey1",url:t.path,title:t.survey.title,desc:t.survey.desc,time:n.toString(),owner:{displayName:t.user.displayName,email:t.user.email,uid:t.user.uid},writeup:{content:u()("#editor .ql-editor").html(),contentDelta:t.quill.getContents()}}),t.$router.push({path:t.path})}},computed:{path:function(){return this.survey.title.replace(/\s/g,"-").toLowerCase()}},data:function(){return{survey:{title:"",desc:"",writeup:{content:"",contentDelta:{}}}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n.n(r),o=n(91),i=n.n(o),s=n(96),u=n.n(s),c=n(19),l=n.n(c);t.default={name:"project-list",created:function(){var e=this;a.a.database().ref(this.$route.params.id).orderByChild("time").limitToLast(5).on("child_added",function(t){e.survey.push(t.val())})},components:{ProjectListItem:u.a,ButtonPrimary:l.a},props:{user:""},methods:{goToProject:function(e){this.$router.push({path:e})},clickHandler:function(){this.$router.push({path:path})}},computed:{listArray:function(){var e=i.a.map(this.survey,function(e,t){return e});return i.a.sortBy(e,function(e,t){return Date.parse(e.time)}).reverse()}},data:function(){return{survey:[]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"project-list-item",methods:{clickHandler:function(){this.$emit("action")}},computed:{},props:{item:{}},data:function(){return{survey:{}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n.n(r),o=n(18),i=(n.n(o),n(19)),s=n.n(i);t.default={name:"view-project",mounted:function(){var e=this;a.a.database().ref(this.$route.params.id).once("value",function(t){e.survey=t.val(),console.log(e.survey)})},props:{user:{}},components:{ButtonPrimary:s.a},methods:{goBack:function(){this.$router.replace("/projects/")},editProject:function(){this.$router.push(this.$route.path+"/edit")}},data:function(){return{survey:{}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),a=n(36),o=n.n(a),i=n(34),s=n(35);n.n(s);r.a.config.productionTip=!1,new r.a({el:"#app",router:i.a,template:"<App/>",components:{App:o.a}})},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(53);var r=n(2)(n(39),n(101),null,null);e.exports=r.exports},function(e,t,n){n(57);var r=n(2)(n(41),n(105),null,null);e.exports=r.exports},function(e,t,n){n(51);var r=n(2)(n(42),n(99),null,null);e.exports=r.exports},function(e,t,n){n(55);var r=n(2)(n(43),n(103),null,null);e.exports=r.exports},function(e,t,n){n(50);var r=n(2)(n(44),n(98),"data-v-07c26c6c",null);e.exports=r.exports},function(e,t,n){n(56);var r=n(2)(n(45),n(104),null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.clickHandler}},[n("h1",[e._v(e._s(e.item.title))]),e._v(" "),n("span",{staticClass:"byline"},[e._v(e._s(e.item.desc))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container",attrs:{id:"edit"}},[n("button-primary",{attrs:{label:"submit"},on:{action:e.handleSubmit}}),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.survey.title,expression:"survey.title"}],staticClass:"input--title",attrs:{placeholder:"Title your Project...",type:"text"},domProps:{value:e.survey.title},on:{input:function(t){t.target.composing||(e.survey.title=t.target.value)}}}),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.survey.desc,expression:"survey.desc"}],staticClass:"input__long-text",attrs:{placeholder:"Briefly describe your idea!",type:"text"},domProps:{value:e.survey.desc},on:{input:function(t){t.target.composing||(e.survey.desc=t.target.value)}}}),e._v(" "),n("div",{attrs:{id:"editor"}})])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"button button--primary",on:{click:e.clickHandler}},[e._v(e._s(e.label))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-bar"},[n("span",[n("span",{on:{click:e.goBack}},[e._v("Projects Home")])]),e._v(" "),n("span",[e.user.uid?e._e():n("button-primary",{attrs:{label:"Login with Facebook"},on:{action:e.loginUser}})],1),e._v(" "),e.user.uid?n("strong",{on:{click:e.logOut}},[e._v(e._s(e.user.displayName))]):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"button button--primary",on:{click:e.clickHandler}},[e._v(e._s(e.label))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"banner banner--main"},[e._v("\n    Help grow ideas\n  ")]),e._v(" "),n("div",{staticClass:"content"},[n("article",[e.user.uid?n("button-primary",{attrs:{label:"New Project"},on:{action:function(t){e.goToProject("/projects/new")}}}):e._e(),e._v(" "),e._m(0),e._v(" "),e._l(e.listArray,function(t,r){return n("project-list-item",{attrs:{item:t},on:{action:function(n){e.goToProject("/projects/"+t.url)}}})})],2)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list__header"},[n("h1",[e._v("Recent Projects")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"banner"},[n("div",{staticClass:"banner__content"},[n("h1",[e._v(e._s(e.survey.title))]),e._v(" "),n("p",[e._v(e._s(e.survey.desc))]),e._v(" "),n("button-primary",{attrs:{label:"Subscribe"}})],1)]),e._v(" "),n("div",{staticClass:"content"},[e.survey.owner&&e.survey.owner.uid===e.user.uid?n("button-primary",{attrs:{label:"Edit Project"},on:{action:e.editProject}}):e._e(),e._v(" "),n("p",[e._v("Idea by "+e._s(e.survey.owner.displayName))]),e._v(" "),n("article",{staticClass:"story"},[e.survey.writeup?n("div",{domProps:{innerHTML:e._s(e.survey.writeup.content)}}):e._e()])],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"edit"}},[n("button-primary",{attrs:{label:"submit"},on:{action:e.handleSubmit}}),e._v(" "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.survey.title,expression:"survey.title"}],staticClass:"input--title",attrs:{placeholder:"Name Your Idea...",type:"text"},domProps:{value:e.survey.title},on:{input:function(t){t.target.composing||(e.survey.title=t.target.value)}}}),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.survey.desc,expression:"survey.desc"}],staticClass:"input__long-text",attrs:{placeholder:"Briefly describe your idea!",type:"text"},domProps:{value:e.survey.desc},on:{input:function(t){t.target.composing||(e.survey.desc=t.target.value)}}}),e._v(" "),n("div",{attrs:{id:"editor"}})])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("app-bar",{attrs:{user:e.user}}),e._v(" "),n("transition",{attrs:{name:"slide-fade"}},[n("router-view",{attrs:{user:e.user}})],1)],1)},staticRenderFns:[]}}]),[46]);
//# sourceMappingURL=app.933ffb9450bc1a08e9bd.js.map